# Local Development Environment Configuration
# Copy this file to .env and customize as needed

# Service Images (versions from hugr examples)
HUGR_IMAGE=ghcr.io/hugr-lab/automigrate:latest
POSTGRES_IMAGE=timescale/timescaledb-ha:pg16
REDIS_IMAGE=redis:8-alpine
MINIO_IMAGE=minio/minio:latest
KEYCLOAK_IMAGE=quay.io/keycloak/keycloak:latest

# Database Configuration
POSTGRES_USER=hugr
POSTGRES_PASSWORD=hugr
POSTGRES_DB=hugr
DATABASE_URL=postgresql://hugr:hugr@postgres:5432/hugr

# Redis Configuration
REDIS_URL=redis://redis:6379

# MinIO Configuration (S3-compatible object storage)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin

# Keycloak Configuration (Authentication/Authorization)
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=hugr
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KC_HTTP_PORT=8080

# Hugr Authentication
# IMPORTANT: Change this for non-local environments!
# This is used for data loading scripts via x-hugr-secret header
SECRET_KEY=local-dev-secret-key-change-in-production

# OIDC Authentication (Keycloak integration)
OIDC_ISSUER=http://keycloak:8080/realms/hugr
OIDC_CLIENT_ID=hugr-graphql
OIDC_CLIENT_TIMEOUT=5s
OIDC_TLS_INSECURE=true
OIDC_COOKIE_NAME=
OIDC_SCOPE_ROLE_PREFIX=
OIDC_USERNAME_CLAIM=name
OIDC_USERID_CLAIM=sub
OIDC_ROLE_CLAIM=x-hugr-role

# Data Generation Parameters (for Docker-based data loaders)
SYNTHEA_PATIENT_COUNT=10000
SYNTHEA_STATE=Massachusetts
SYNTHEA_SEED=12345
SYNTHEA_OUTPUT_DIR=./data
SYNTHEA_DB_FILE=./data/synthea.duckdb

# Open Payments Configuration
OPENPAYMENTS_DATA_DIR=./data/openpayments
OPENPAYMENTS_DB_FILE=./data/openpayments.duckdb
OPENPAYMENTS_DOWNLOAD_URL=https://download.cms.gov/openpayments/PGYR2023_P01302025_01212025.zip
